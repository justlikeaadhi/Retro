"use client";
import React, { useEffect, useState } from "react";
import { motion, useAnimation } from "framer-motion";

const AdvancedSignature: React.FC = () => {
  const [isAnimating, setIsAnimating] = useState(true);
  const controls = useAnimation();

  useEffect(() => {
    if (isAnimating) {
      controls.start("visible");
    } else {
      controls.start("hidden");
    }
  }, [isAnimating, controls]);

  const pathVariants = {
    hidden: { pathLength: 0, fill: "rgba(255, 255, 255, 0)" },
    visible: (custom: number) => ({
      pathLength: 1,
      fill: "rgba(255, 255, 255, 1)",
      transition: {
        pathLength: {
          delay: custom * 0.2,
          duration: 1,
          ease: "easeInOut",
        },
        fill: {
          delay: custom * 0.2 + 0.5,
          duration: 0.5,
          ease: "easeInOut",
        },
      },
    }),
  };

  return (
    <div className="flex flex-col items-center justify-center gap-8">
      <motion.div className="cursor-pointer">
        <svg
          width="100"
          height="55"
          viewBox="0 0 84 47"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          className="overflow-visible"
        >
          <motion.path
            d="M30.015 20.57C26.775 24.17 18.81 31.64 10.35 30.47C14.85 35.195 22.005 41 31.095 34.07C31.365 33.845 31.77 33.89 31.995 34.205C32.22 34.475 32.13 34.88 31.86 35.105C28.575 37.58 25.515 38.57 22.725 38.57C16.245 38.57 11.16 33.35 8.09997 29.975C7.87497 29.885 7.69497 29.795 7.46997 29.705C4.54497 34.88 1.79997 39.875 1.70997 41.045C1.84497 41.225 1.93497 41.45 1.84497 41.675C1.75497 41.945 1.48497 42.125 1.21497 42.125C1.16997 42.125 1.07997 42.125 1.03497 42.08C0.764971 41.99 0.584971 41.81 0.494971 41.54C0.0899713 40.46 1.75497 37.175 6.29997 29.165C5.44497 28.715 4.36497 27.995 4.22997 27.095C4.18497 26.69 4.36497 26.285 4.76997 26.015C5.48997 25.52 6.20997 26.015 7.37997 27.275C7.55997 26.915 7.78497 26.6 7.96497 26.24C8.41497 25.475 8.86497 24.71 9.31497 23.9C9.31497 23.81 9.35997 23.675 9.40497 23.585C9.44997 23.495 9.71997 23.09 10.125 22.46C10.395 22.01 10.62 21.56 10.89 21.155C10.305 20.795 9.85497 20.3 9.49497 19.67C7.51497 15.89 11.16 8.68999 14.085 4.77499C15.39 3.01999 17.865 0.139993 19.62 0.54499C20.115 0.634992 20.475 0.949991 20.7 1.39999C21.465 3.10999 19.62 7.65499 16.2 14.135C21.06 8.14999 27.945 1.44499 34.65 0.589993C36.9 0.319991 37.935 1.26499 38.34 2.11999C40.275 5.80999 35.505 14.54 30.015 20.57ZM10.665 19.04C10.845 19.445 11.16 19.76 11.52 19.985C15.885 12.2 20.34 3.73999 19.53 1.93999C19.485 1.84999 19.44 1.80499 19.35 1.80499H19.305C18.72 1.80499 17.235 2.74999 15.12 5.53999C11.835 9.94999 9.13497 16.205 10.665 19.04ZM8.81997 28.805C14.76 30.56 22.275 27.185 29.07 19.715C35.46 12.74 38.475 5.13499 37.215 2.70499C37.08 2.43499 36.63 1.66999 34.83 1.89499C26.37 2.92999 17.235 14.45 12.96 20.57C13.5 20.66 14.13 20.705 14.805 20.66C15.165 20.615 15.48 20.885 15.48 21.245C15.525 21.605 15.21 21.92 14.895 21.92C13.86 22.01 12.96 21.92 12.195 21.695C11.79 22.325 11.43 22.82 11.16 23.225C10.485 24.395 9.80997 25.61 9.08997 26.87C8.81997 27.32 8.59497 27.77 8.32497 28.265C8.36997 28.355 8.45997 28.445 8.54997 28.535C8.63997 28.625 8.72997 28.715 8.81997 28.805Z"
            stroke="white"
            strokeWidth="1"
            variants={pathVariants}
            custom={0}
            animate={controls}
            initial="hidden"
          />
          <motion.path
            d="M52.0783 23.18C52.2583 23.495 52.2133 23.9 51.8983 24.08C44.6533 28.76 42.3133 29.795 38.5783 31.28C37.0933 31.91 35.9233 32.135 35.0233 32.135C33.5833 32.135 32.8183 31.505 32.4133 31.055C31.2883 29.57 31.8283 26.96 33.9433 24.035C35.6533 21.65 38.2633 20.165 39.7483 20.75C40.3333 20.93 40.6483 21.425 40.6483 22.1C40.6033 23.63 38.3983 25.88 33.5833 27.32C33.0433 28.58 32.9983 29.66 33.4483 30.245C34.0783 31.055 35.8333 31.01 38.0833 30.11C41.7733 28.625 44.0233 27.635 51.1783 23C51.4933 22.82 51.8983 22.91 52.0783 23.18ZM34.9783 24.8C34.7983 25.115 34.5733 25.385 34.3933 25.655C37.4533 24.575 38.9383 23.225 39.2983 22.325C39.3883 22.1 39.3433 21.965 39.3433 21.965C39.2533 21.92 39.1633 21.92 39.0733 21.92C38.2183 21.92 36.4633 22.775 34.9783 24.8Z"
            stroke="white"
            strokeWidth="1"
            variants={pathVariants}
            custom={1}
            animate={controls}
            initial="hidden"
          />
          <motion.path
            d="M83.1378 8.86999C83.2278 9.22999 83.0928 9.58999 82.7328 9.72499C82.4628 9.81499 82.1478 9.72499 81.9678 9.45499C80.7528 8.68999 71.6178 9.22999 62.3928 10.22C60.2778 13.37 57.1278 17.69 52.5828 23.585L52.4478 23.765C45.5628 36.185 41.9628 43.925 41.8278 45.455C41.9628 45.59 42.0078 45.77 42.0078 45.95C42.0078 46.265 41.7378 46.535 41.3778 46.535H41.3328C40.9278 46.535 40.5678 46.22 40.5678 45.59C40.5228 42.98 48.3528 28.58 51.1878 23.405C51.1878 23.315 51.2328 23.225 51.3228 23.135L51.3678 23.045C51.7278 22.415 51.9528 22.01 52.0878 21.74C54.3378 17.735 56.5428 13.91 58.5228 10.67C51.4578 11.525 45.0228 12.605 42.8628 13.505C42.8178 13.55 42.7278 13.55 42.6378 13.55C42.3678 13.55 42.1428 13.415 42.0528 13.145C41.9178 12.83 42.0528 12.47 42.3678 12.335C44.6178 11.345 51.7278 10.175 59.3778 9.22999C59.7378 8.64499 60.0978 8.01499 60.4578 7.47499C64.5978 0.859992 65.2278 0.814992 65.7228 0.769993C66.1728 0.724991 66.5328 0.949991 66.7578 1.30999C66.9828 1.75999 67.4328 2.61499 63.3828 8.77999C72.0678 7.87999 80.5278 7.42999 82.4628 8.23999C82.7778 8.41999 83.0028 8.59999 83.1378 8.86999ZM57.3978 15.035C58.7028 13.28 59.7828 11.75 60.7278 10.4C60.5028 10.445 60.3228 10.445 60.1428 10.49C59.2878 11.84 58.3878 13.37 57.3978 15.035ZM61.7178 8.95999C64.3728 4.99999 65.2278 3.19999 65.4978 2.43499C64.6878 3.33499 63.1128 5.62999 60.9978 9.04999C61.2228 9.00499 61.4928 9.00499 61.7178 8.95999Z"
            stroke="white"
            strokeWidth="1"
            variants={pathVariants}
            custom={2}
            animate={controls}
            initial="hidden"
          />
          <motion.path
            d="M69.7222 22.73C70.0372 22.595 70.4422 22.775 70.5322 23.135C70.6672 23.45 70.4872 23.81 70.1272 23.945C68.1472 24.62 66.9322 23.72 66.0322 23.045C65.5372 22.685 65.0872 22.37 64.6822 22.37C62.8822 22.235 58.3822 27.905 55.7272 31.91C55.7272 31.955 55.7272 31.955 55.6822 31.955C55.6822 31.955 55.6822 32 55.6372 32C55.6372 32.045 55.5922 32.045 55.5922 32.09C55.5472 32.09 55.5472 32.135 55.5022 32.135C55.5022 32.135 55.4572 32.18 55.4122 32.18H55.3672C55.3222 32.225 55.2322 32.225 55.1872 32.225C55.1422 32.225 55.0972 32.225 55.0522 32.225C55.0522 32.225 55.0522 32.225 55.0072 32.18C55.0072 32.18 55.0072 32.18 54.9622 32.18C54.9172 32.18 54.8722 32.135 54.8272 32.135C54.7372 32.09 54.6922 32 54.6472 31.955V31.91C54.6022 31.865 54.5572 31.775 54.5572 31.73V31.685C54.5122 31.64 54.5122 31.55 54.5572 31.46C54.5572 31.415 54.5572 31.415 54.6472 31.235C54.6472 31.235 54.6472 31.235 54.6472 31.19C54.9172 30.65 55.9522 28.67 60.0922 21.11C60.2722 20.795 60.6322 20.66 60.9472 20.84C61.2622 21.02 61.3972 21.38 61.2172 21.695C60.7222 22.595 60.2272 23.585 59.6422 24.575C61.4422 22.595 63.3772 20.975 64.7722 21.065C65.5822 21.11 66.1672 21.56 66.7972 22.01C67.6522 22.64 68.3722 23.18 69.7222 22.73Z"
            stroke="white"
            strokeWidth="1"
            variants={pathVariants}
            custom={3}
            animate={controls}
            initial="hidden"
          />
          <motion.path
            d="M77.0115 22.775C77.8215 23.9 77.5065 25.835 76.9215 27.41C76.2015 29.39 74.5815 31.64 72.4215 31.865C72.2865 31.91 72.1965 31.91 72.1065 31.91C71.2065 31.91 70.5765 31.415 70.3515 30.605C69.9015 28.76 71.8815 24.98 74.4465 22.865C74.4015 22.55 74.6265 22.28 74.8965 22.19C75.1215 22.145 75.3465 22.1 75.5265 22.1C75.7965 21.92 76.1115 21.785 76.3815 21.65C76.7415 21.515 77.1015 21.695 77.2365 22.01C77.3715 22.325 77.2365 22.64 77.0115 22.775ZM75.7065 26.96C76.3365 25.25 76.2915 23.9 75.9315 23.495C75.8865 23.495 75.8865 23.45 75.8415 23.45C73.3215 25.115 71.2515 28.895 71.6115 30.29C71.6565 30.47 71.7015 30.65 72.2415 30.605C73.8615 30.425 75.1215 28.535 75.7065 26.96Z"
            stroke="white"
            strokeWidth="1"
            variants={pathVariants}
            custom={4}
            animate={controls}
            initial="hidden"
          />
        </svg>
      </motion.div>
    </div>
  );
};

export default AdvancedSignature;
